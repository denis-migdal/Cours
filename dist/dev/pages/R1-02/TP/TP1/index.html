<!DOCTYPE html>
<html>
    <head>
        <title>TP1 (BDR1)</title>
        <link rel="stylesheet" href="./index.css">
        <script type="module" src="./index.js" defer></script>
    </head>
    <body>
        <header></header>
        <main>

<h1 id="tp1--requ√™ter-une-base-de-donn√©es">TP1 : Requ√™ter une base de donn√©es</h1>
<p><em>üí° Ce TP est inspir√© de sources en partie inconnues.</em></p>
<h2 id="consignes">Consignes</h2>
<p><tp-consignes></tp-consignes></p>
<h2 id="sqlite">SQLite</h2>
<p>SQLite est un SGBD tr√®s l√©ger dont chaque base de donn√©es est stock√©e sous la forme d&#39;un fichier <code>.sqlite</code>. Comme de nombreux SGDB, il permet de manipuler une base de donn√©es via plusieurs types d&#39;interfaces :</p>
<ul>
<li>interface en lignes de commandes.</li>
<li>interface graphique.</li>
<li>interface de programmation <em>(e.g. pour manipuler une base √† partir de Python)</em>.</li>
</ul>
<p>üí° Dans le cadre de ce TP, nous utiliserons SQLite via son interface CLI.</p>
<h3 id="usage-de-sqlite">Usage de SQLite</h3>
<p>SQLite se lance dans le terminal via la commande suivante :</p>
<pre><code class="hljs language-bash">sqlite3 <span class="hljs-variable">$FILE</span> [<span class="hljs-variable">$OPTS</span>]
</code></pre><p>Une fois lanc√©, vous pourrez ensuite √©crire vos requ√™tes SQL apr√®s l&#39;invite (<code>sqlite&gt;</code>), appuyer sur entr√©e pour les ex√©cuter, puis visualiser les r√©sultats.</p>
<p>üí° Vous pouvez aussi entrer des commandes pr√©fix√©es par un <code>.</code> :</p>
<ul>
<li><code>.quit</code> : quitter SQLite.</li>
<li><code>.help [$CMD]</code> : afficher l&#39;aide de SQLite.</li>
</ul>
<h3 id="explorer-la-base-de-donn√©es">Explorer la base de donn√©es</h3>
<ol>
<li>T√©l√©chargez la base de donn√©es &quot;chimiste&quot; via <a href="../../../../assets/sql/chimiste.sqlite">ce lien</a>.</li>
<li>Dans un terminal, ex√©cutez <code>sqlite3 $FILE</code> afin d&#39;ouvrir le fichier t√©l√©charg√©.</li>
<li>Ex√©cutez la commande <code>.tables</code> pour afficher la liste des tables de la base.</li>
<li>Affichez le contenu de la table <code>chimiste</code> gr√¢ce √† la requ√™te SQL suivante :<br/>
<sql-code>SELECT * FROM chimiste;</sql-code></li>
</ol>
<h3 id="formatter-le-r√©sultat">Formatter le r√©sultat</h3>
<p>Comme vous pouvez le constater, l&#39;affichage des r√©sultats est, par d√©faut, un peu aust√®re. Plusieurs commandes SQLite (ou arguments de la commande <code>sqlite3</code>) permettent d&#39;am√©liorer l&#39;affichage :</p>
<ul>
<li><code>.headers ON</code> (ou <code>--header</code>) : dans les r√©sultats, affiche les noms des colonnes.</li>
<li><code>.mode $MODE</code> (ou <code>--$MODE</code>) : change le format d&#39;affichage des r√©sultats :<ul>
<li>pour des humains : <code>box</code>, <code>table</code>, <code>column</code>.</li>
<li>pour un ordinateur : <code>csv</code>, <code>json</code>, <code>tabs</code>, <code>list</code>.</li>
<li>pour les pages Web : <code>html</code>, <code>markdown</code>.</li>
</ul>
</li>
</ul>
<ol>
<li>Activez l&#39;affichage des noms des colonnes, puis re-ex√©cutez la requ√™te SQL.</li>
<li>Testez les formats <code>box</code>, <code>table</code>, et <code>column</code> sur la requ√™te SQL pr√©c√©dente.</li>
</ol>
<h2 id="s√©lection-des-colonnes">S√©lection des colonnes</h2>
<p>Les tables SQL peuvent contenir de nombreuses colonnes. Afin de conserver des r√©sultats succins et lisibles, il convient de n&#39;afficher que celles qui nous int√©ressent.</p>
<ol>
<li>Affichez uniquement les pays de naissance.<pre lang="sql" contenteditable="true"></pre></li>
<li>Affichez les pays de naissance, cette fois en supprimant les doublons.<pre lang="sql" contenteditable="true"></pre></li>
<li>Affichez le nom et le pr√©nom de chaque chimistes.<pre lang="sql" contenteditable="true"></pre></li>
<li>√Ä cette requ√™te, ajoutez les ann√©es de naissance que vous nommerez &quot;naissance&quot;.<pre lang="sql" contenteditable="true"></pre></li>
</ol>
<h2 id="s√©lectionner-des-lignes">S√©lectionner des lignes</h2>
<p>De la m√™me mani√®re que les tables SQL peuvent contenir de tr√®s nombreuses colonnes, elle peuvent aussi contenir de tr√®s nombreuses lignes. Ainsi, comme pour les colonnes, il convient de s√©lectionner les lignes qui nous int√©ressent.</p>
<ol>
<li>Affichez le nom, pr√©nom, et pays de naissance des chimistes n√©s en France.<pre lang="sql" contenteditable="true"></pre></li>
<li>Affichez le nom, pr√©nom des chimistes dont le nom commence par &quot;A&quot;.<pre lang="sql" contenteditable="true"></pre></li>
<li>Affichez le nom, pr√©nom des chimistes encore vivant (i.e. sans ann√©e de mort).<pre lang="sql" contenteditable="true"></pre></li>
<li>Affichez le nom, pr√©nom des chimistes morts (i.e. ayant une ann√©e de mort), avec leur date de mort.<pre lang="sql" contenteditable="true"></pre></li>
</ol>
<h2 id="op√©rations-math√©matiques-sur-les-colonnes">Op√©rations math√©matiques sur les colonnes.</h2>
<p>Il est fr√©quent que certaines informations soient calcul√©es √† partir d&#39;une ou plusieurs colonnes. Par exemple, l&#39;√¢ge est calcul√©e comme la diff√©rence entre l&#39;ann√©e de mort et l&#39;ann√©e de naissance :</p>
<pre><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> annee_naissance, annee_mort, annee_mort <span class="hljs-operator">-</span> annee_naissance <span class="hljs-keyword">FROM</span> chimiste;
</code></pre><ol>
<li>Ex√©cutez la requ√™te ci-dessus en nommant la 3√®me colonne &quot;age&quot;.<pre lang="sql" contenteditable="true"></pre></li>
<li>Pourquoi, dans la requ√™te pr√©c√©dente, certains chimistes n&#39;ont pas d&#39;√¢ge ?<div contenteditable></div></li>
<li>Affichez le nom, prenom, ann√©e de naissance, et √¢ge des chimistes encore vivants.<pre lang="sql" contenteditable="true"></pre></li>
<li>En vous aidant de <code>COALESCE(a,b)</code>, qui retourne <code>b</code> si <code>a</code> est nul, sinon <code>a</code>, affichez le nom, prenom, et √¢ge de tous les chimistes.<pre lang="sql" contenteditable="true"></pre></li>
<li>Affichez le nom, prenom, et √¢ge des chimistes dont l&#39;√¢ge est sup√©rieur √† 100 ans.<pre lang="sql" contenteditable="true"></pre></li>
</ol>
<h2 id="trier-et-limiter-les-entr√©es">Trier et limiter les entr√©es</h2>
<p>Parfois, les entr√©es qui nous int√©ressent sont les e.g. 5 produits les plus chers/moins chers. Pour cela on va d&#39;abord trier les lignes sur leur prix, puis limiter le nombre de lignes retourn√©es.</p>
<ol>
<li>Ordonnez le nom, pr√©nom, et √¢ge des chimistes par leur √¢ge croissant.<pre lang="sql" contenteditable="true"></pre></li>
<li>Ordonnez le nom, pr√©nom, et √¢ge des chimistes par leur √¢ge d√©croissant.<pre lang="sql" contenteditable="true"></pre></li>
<li>Affichez le nom, pr√©nom, et √¢ge des 5 chimistes les plus vieux.<pre lang="sql" contenteditable="true"></pre></li>
<li>Affichez le nom, pr√©nom, et √¢ge des 5 chimistes les plus jeunes.<pre lang="sql" contenteditable="true"></pre></li>
</ol>
</main>
    </body>
</html>